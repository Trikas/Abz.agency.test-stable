<?php

use Illuminate\Database\Seeder;
use App\Helpers\Facades\genName;
use Illuminate\Support\Facades\DB;

class TablePersonal extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {	$this->update_parent_id();

    	// $this->genPers('Президент компании', 5, 0, '90000', 1);
    	// $this->genPers('Генеральный директор', 6, 5, '90000', 1);	
    	// $this->genPers('Директор филиала', 7, 6, '19000', 1);
    	// $this->genPers('Зам. директора филиала', 8, 7, '90000', 1);		
    	// $this->genPers('Управляющий персоналом', 9, 8, '80000', 1);
    	// $this->genPers('Рабочий', 10, 9, '70000', 1);
    	// $this->genPers('Первый подручный рабочего', 11, 10, '60000', 1);
    	// $this->genPers('Первый подручный подручного', 12, 11, '600', 1);
    	// $this->genPers('Повар первого подручного', 13, 12, '60', 1);
    	// $this->genPers('Помощник повара первого подручного', 14, 13, '6', 1);

    }
    function genPers($position, $position_value, $parent_id, $salary, $col_pers){

    	for($i=1; $i<=$col_pers; $i++){	
    		$id_parent = $this->personal_id($parent_id); 
    		DB::table('personal')->insert([
    			'last_name'=>$this->lastName(),
    			'first_name'=>$this->firstName(),
    			'father_name'=>$this->fatherName(),
    			'position'=>$position,
    			'position_value'=>$position_value,
    			'id_parent'=> $id_parent,
    			'first_day'=>date('j.m.Y', rand(296545881, 788929201)),
						'salary'=>$salary//управляющий персоналом
					]);
    	}
    }
    function personal_id($parent_id){

    	$var = DB::table('personal')
    	->where('position_value', $parent_id)
    	->get();

    	if($var->count()!=0){
    		return $var[rand(0, count($var)-1)]->id;
    	}   
    	return 0;
    }
    function firstName($getArr = false){
    	$all_nFirst_str = 'Абрам, Август, Авдей, Аверкий, Авксентий, Авраам, Автоном, Агап, Агафон, Аггей, Агей, Адам, Адриан, Азарий, Аким, Александр, Алексей, Амвросий, Амос, Ананий, Анатолий, Андрей, Андриан, Андрон, Андроник, Аникей, Аникита, Анисим, Онисим, Антип, Антон, Антонин, Аполлинарий, Аполлон, Арефий, Аристарх, Аркадий, Арсен, Арсений, Артём, Артемий, Архип, Аскольд, Афанасий, Афиноген,Бажен, Богдан, Болеслав, Борис, Борислав, Боян, Бронислав, Будимир, Бенедикт, Берек, Бернар, Боголюб, Бонифаций, Боеслав, Борей, Боримир, Бартоломей, Вадим, Валентин, Валерий, Валерьян, Варлаам, Варлам, Варфоломей, Василий, Василиск, Велимир, Венедикт, Вениамин, Викентий, Виктор, Викторин, Виссарион, Виталий, Владилен, Владлен, Владимир, Владислав, Влас, Всеволод, Всемил, Всеслав, Вышеслав, Вячеслав,Гавриил, Гаврила, Галактион, Гедеон, Геннадий, Георгий, Георгий(Егор), Герасим, Герман, Глеб, Гордей, Гостомысл, Гремислав, Григорий, Гурий,Евгений, Евграф, Евдоким, Евлампий, Евсей, Евстафий, Евстигней, Егор, Елизар, Елисей, Емельян, Епифан, Еремей, Ермил, Ермолай, Ерофей, Ефим, Ефрем,Кирилл, Камалл, Карим, Карл, Касим, Кастор, Касьян, Каюм, Кеша, Кирсан, Клим, Кондрат, Корней, Корнелий, Косьма, Кристиан, Кузьма,Лавр, Лаврентий, Ладимир, Лазарь, Лев, Леон, Леонид, Леонтий, Лонгин, Лука, Лукьян, Лучезар, Любим, Любомир, Любомысл,Олег, Одиссей, Октавиан, Октябрь, Олимп, Онисим, Онуфрий, Осип, Оскар, Остап, Остромир, Радим, Радислав, Радован, Ратибор, Ратмир, Рафаил, Родион, Роман, Ростислав, Руслан, Рюрик, Стас, Савва, Савелий, Самсон, Свет, Светозар, Север, Северин, Серафим, Сеня, Сергей, Симон, Слава, Спартак, Степан.';
    	$arr_nFirst = explode(',', $all_nFirst_str);
    	$selectN =  rand(0, count($arr_nFirst)-1);
    	return trim($arr_nFirst[$selectN]);
    }
    function lastName($getArr = false){
    	$all_nLast_str = 'Иванов,Васильев,Петров,Смирнов,Михайлов,Фёдоров,Соколов,Яковлев,Попов,Андреев,Александрсеев,Александров,Лебедев,Григорьев,Степанов,Семёнов,Павлов,Богданов,Николаев,Дмитриев,Егоров,Волков,Кузнецов,Никитин,Соловьёв,Тимофеев,Орлов,Афанасьев,Филиппов,Сергеев,Захаров,Матвеев,Виноградов,Кузьмин,Максимов,Козлов,Ильин,Герасимов,Марков,Новиков,Морозов,Романов,Осипов,Макаров,Зайцев,Беляев,Гаврилов,Антонов,Ефимов,Леонтьев,Давыдов,Гусев,Данилов,Киселёв,Сорокин,Крылов,Никифоров,Кондратьев,Кудрявцев,Борисов,Жуков,Воробьёв,Щербаков,Поляков,Савельев,Шмидт,Троф,Чистяков,Баранов,Сидоров,Соболев,Карпов,Белов,Миллер,Титов,Фролов,Комаров,Прокофьев,Быков,Абрамов,Голубев,Пономарёв,Покровский,Мартынов,Кириллов,Шульц,Миронов,Фомин,Власов,Троицкий,Федотов,Назаров,Ушаков,Денисов,Константинов,Воронинмов';

    	$arr_nLast = explode(',', $all_nLast_str);
    	$selectN =  rand(0, count($arr_nLast)-1);
    	return trim($arr_nLast[$selectN]);
    }
    function fatherName($getArr = false){
    	$all_nFather_str = 'Александрович Алексеевич Анатольевич Андреевич Антонович Аркадьевич Артемович Бедросович Богданович Борисович Валентинович Валерьевич Васильевич Викторович Витальевич Владимирович Владиславович Вольфович Вячеславович Геннадиевич Георгиевич Григорьев Данилович Денисович Дмитриевич Евгеньевич Егорович Ефимович Иванович Иваныч Игнатьевич Игоревич Ильич Иосифович Исаакович Кириллович Константинович Леонидович Львович Максимович Матвеевич Михайлович Николаевич Олегович Павлович Палыч Петрович Платонович Робертович Романович Саныч Северинович Семенович Сергеевич Станиславович Степанович Тарасович Тимофеевич Федорович Феликсович Филиппович Эдуардович Юрьевич Яковлевич Ярославович';
    	$arr_nFather = explode(' ', $all_nFather_str);
    	$selectN =  rand(0, count($arr_nFather)-1);
    	return trim($arr_nFather[$selectN]);
    }
    function update_parent_id(){
		$user = DB::table('personal')->get();
		
		foreach ($user as $value) {
			dd($value->id_parent);
		}
	}
}  











